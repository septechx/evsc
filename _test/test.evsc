//static std = @import("std.evsc");

fn std_print(str: []const u8) void {
    @asm(
        "mov rax, 1
        mov rdi, 1
        mov rsi, $0
        mov rdx, $1
        syscall",
        "r,r,~{rax},~{rdi},~{rsi},~{rdx},~{rcx},~{r11},~{cc}",
        str.ptr, str.len
    );
}

struct Std {
    print: ([]const u8) -> void,
}

pub fn main() i32 {
    let std = Std{
        print: std_print,
    };

    std.print("Hello world");

    return 0;
}

